<section id="<%= dom_id %>" class="carousel mx-auto w-full max-w-[60%] outline-none" role="region" aria-roledescription="Carrusel" aria-label="<%= aria_label %>" tabindex="0" data-controller="carousel" data-carousel-autoplay-value="<%= autoplay %>" data-carousel-interval-value="<%= interval %>" data-carousel-loop-value="<%= loop %>" data-carousel-pause-on-hover-value="<%= pause_on_hover %>" data-action="keydown->carousel#handleKey mouseenter->carousel#handleMouseEnter mouseleave->carousel#handleMouseLeave touchstart.passive->carousel#onTouchStart touchend.passive->carousel#onTouchEnd">
    <div class="viewport relative min-h-[20rem] w-full overflow-hidden rounded-2xl bg-white text-white shadow-2xl">
        <div class="slides relative aspect-video w-full" data-carousel-target="track">
            <% if slides.present? %>
            <% slides.each_with_index do |slide, index| %>
            <div class="slide absolute inset-0 flex h-full w-full flex-col items-center justify-center overflow-hidden opacity-0 transition duration-300 ease-out" data-carousel-target="slide" data-carousel-index-value="<%= index %>">
                <%= image_tag slide[:src], alt: slide[:alt], class: "main-image block h-full w-full object-cover", draggable: false %>
                <% if slide[:description].present? %>
                <div class="caption pointer-events-none absolute translate-y-1/2 left-4 w-full">
                    <p class="text-7xl text-black"><%= slide[:description] %></p>
                </div>
                <% end %>
            </div>
            <% end %>
            <% else %>
            <div class="flex h-full w-full items-center justify-center bg-slate-800 text-slate-300">
                Sin im√°genes disponibles
            </div>
            <% end %>
        </div>

        <% if show_arrows? %>
        <div class="pointer-events-none absolute inset-0 flex items-center justify-between px-4">
            <button type="button" class="arrow pointer-events-auto grid h-12 w-12 place-items-center rounded-full bg-black/60 text-2xl text-white transition hover:bg-black/80 focus:outline-none focus:ring-2 focus:ring-white" data-action="click->carousel#previous" data-carousel-target="previousButton" aria-label="Imagen anterior">
                &#8249;
            </button>
            <button type="button" class="arrow pointer-events-auto grid h-12 w-12 place-items-center rounded-full bg-black/60 text-2xl text-white transition hover:bg-black/80 focus:outline-none focus:ring-2 focus:ring-white" data-action="click->carousel#next" data-carousel-target="nextButton" aria-label="Imagen siguiente">
                &#8250;
            </button>
        </div>
        <% end %>

        <% if multiple_slides? %>
        <div class="indicators pointer-events-auto absolute bottom-4 left-1/2 flex -translate-x-1/2 gap-3" data-carousel-target="indicatorWrapper">
            <% slides.each_with_index do |slide, index| %>
            <button type="button" class="indicator h-3 w-3 rounded-full border border-white/60 bg-white/40 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white" data-carousel-target="indicator" data-action="click->carousel#go" data-carousel-index-param="<%= index %>" aria-label="Ir a la imagen <%= index + 1 %>"></button>
            <% end %>
        </div>
        <% end %>
    </div>
</section>